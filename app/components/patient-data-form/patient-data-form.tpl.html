<div>
<div class="row">
  <div class="break"></div>
    <div ng-show="formCtrl.showChangeBanner" class="alert-box radius">
      <i class="fa fa-bell"></i>&nbsp; A change in the patient's data has occured<a ng-click="formCtrl.removeAlert()" class="close">&times;</a>
    </div>
</div>  

<div class="row">
    <div class="large-3 columns sidebar">
      <h4 class="profileTitle">{{formCtrl.currentPatient.firstname.value}} {{formCtrl.currentPatient.lastname.value}} <a value="{{formCtrl.inEditMode ? 'view' : 'edit'}}" ng-click="formCtrl.switchMode()" class="right edit"><i class="fa fa-pencil"></i> Edit</a></h4> 
      <img src="http://placehold.it/200x200" class="circle">
      Rm {{formCtrl.currentPatient.roomnum.value}}
      <hr>
      <ul class="side-nav">
        <li><a ng-click="formCtrl.fieldFilter = 'Needs'">Daily Care</a></li>
        <li><a ng-click="formCtrl.fieldFilter = 'Preferences'">Preferences</a></li>
        <li><a ng-click="formCtrl.fieldFilter = 'Personhood'">Personhood</a></li>
      </ul>
    </div>
    <div class="large-9 columns profileSection">
<!--      <a ng-click="formCtrl.goBack()"><i class="fa fa-long-arrow-left blue"></i> Back</a>-->
      <div class="break"></div>
<!--        <div ng-show="formCtrl.showChangeBanner" class="alert-box radius"><i class="fa fa-bell"></i>&nbsp; A change in the patient's data has occured<a ng-click="formCtrl.removeAlert()" class="close">&times;</a></div>-->
        
          <h4 class="profileTitle">{{formCtrl.getTitleFromFilter(formCtrl.fieldFilter)}} </h4>
        <form>
          <div ng-if="formCtrl.inEditMode || field.value" ng-repeat="(key, field) in formCtrl.getEditableProps(formCtrl.currentPatient)">
            <p>{{field.display}} <i ng-if="formCtrl.showChangeBanner && formCtrl.fieldWasChanged(field.id)" tooltip-title="{{formCtrl.getChangeText(field.id)}}" tooltips class="fa fa-info-circle"></i></p>
            <span ng-if="!formCtrl.inEditMode">{{field.value}}</span>
            <input ng-if="formCtrl.inEditMode && !field.options" type="text" ng-disabled="!formCtrl.inEditMode" ng-model="field.value">
            <select ng-if="formCtrl.inEditMode && field.options" type="text" ng-options="option for option in field.options" ng-disabled="!formCtrl.inEditMode" ng-model="field.value"></select>
          </div>
          <input ng-if="formCtrl.inEditMode" type="button" class="button large right" value="Save" ng-click="formCtrl.save()">
        </form>
    </div>
  </div>
</div>